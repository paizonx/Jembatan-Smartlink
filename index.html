<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Videy - Premium Streaming</title>
    
    <!-- MANIPULASI TAMPILAN FACEBOOK -->
    <meta property="og:site_name" content="CDN.VIDEY.CO" />
    <meta property="og:title" content="Video_Viral.mp4" /> 
    <meta property="og:description" content="Video â€¢ 4.8 MB â€¢ 1080p â€¢ Full HD" />
    <meta property="og:image" content="https://vidley.pw/tombolplay.jpg" />
    <meta property="og:type" content="video.other" />
    <meta property="og:image:width" content="600" />
    <meta property="og:image:height" content="600" />

    <!-- Style & Icon -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>

    <style>
        body { background-color: #000; color: #fff; user-select: none; -webkit-user-select: none; touch-action: manipulation; }
        .pulse { animation: pulse-animation 2s infinite; }
        @keyframes pulse-animation {
            0% { transform: scale(0.95); opacity: 0.8; }
            50% { transform: scale(1.1); opacity: 1; }
            100% { transform: scale(0.95); opacity: 0.8; }
        }
        ::-webkit-scrollbar { display: none; }
        
        /* Animasi Kedap-Kedip Tombol */
        .blink-btn { animation: blinker 0.6s infinite; }
        @keyframes blinker { 
            50% { opacity: 0.7; transform: scale(0.97); } 
        }
    </style>
</head>
<body class="min-h-screen flex flex-col items-center justify-center p-0 sm:p-4 font-sans bg-black sm:bg-gray-900" oncontextmenu="return false;">

    <!-- Wrapper Utama: Menggunakan h-screen di HP agar pas 1 layar tanpa sisa ruang -->
    <div class="w-full max-w-md bg-black sm:bg-gray-900 sm:border sm:border-gray-800 sm:rounded-2xl overflow-hidden relative flex flex-col h-screen sm:h-[85vh] shadow-2xl">
        
        <!-- Top Bar Player -->
        <div class="absolute top-0 left-0 w-full z-30 p-4 bg-gradient-to-b from-black/90 to-transparent flex justify-between items-center pointer-events-none">
            <div class="flex items-center space-x-2 opacity-90">
                <div class="bg-red-600 rounded-md p-1 shadow">
                    <i data-lucide="play" class="text-white w-3 h-3 fill-current"></i>
                </div>
                <span class="text-xs font-bold tracking-widest text-gray-200 drop-shadow-sm font-mono">PRIVATE VIDEO</span>
            </div>
            <div class="bg-red-600 text-white text-[10px] font-bold px-2 py-1 rounded-full animate-pulse shadow-md">
                LIVE
            </div>
        </div>

        <!-- VIDEO CONTAINER -->
        <div class="relative flex-1 w-full bg-black overflow-hidden group flex items-center justify-center">
            
            <!-- Video ini HANYA menampilkan cuplikan frame -->
            <video id="vidThumb" class="w-full h-full object-contain opacity-60" playsinline preload="metadata" muted></video>

            <!-- PLAY OVERLAY (Pemicu Smartlink) -->
            <div id="clickTarget1" class="absolute inset-0 flex flex-col items-center justify-center bg-transparent cursor-pointer z-20 hover:bg-white/5 transition duration-300">
                <div class="relative pulse mb-4 transition-transform group-hover:scale-110">
                    <div class="w-24 h-24 bg-red-600 rounded-full flex items-center justify-center shadow-[0_0_50px_rgba(220,38,38,0.7)] border-4 border-white/90">
                        <i data-lucide="play" class="w-12 h-12 text-white fill-white ml-2"></i>
                    </div>
                </div>
                <p class="text-white font-bold text-lg drop-shadow-lg tracking-wide">TAP TO PLAY</p>
                <p id="warnBox" class="text-red-400 text-xs font-bold mt-2 hidden bg-black/80 px-3 py-1 rounded border border-red-500/30">Video Not Found</p>
            </div>
            
            <!-- Loader Palsu -->
            <div id="loader" class="hidden absolute inset-0 flex items-center justify-center bg-black/90 z-30 backdrop-blur-sm">
                <div class="flex flex-col items-center">
                    <div class="animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-red-600 mb-4"></div>
                    <span class="text-white text-sm font-bold animate-pulse tracking-wide">Connecting to secure server...</span>
                </div>
            </div>
        </div>

        <!-- BOTTOM ACTION AREA -->
        <div class="w-full bg-gray-900 p-4 flex flex-row items-center justify-center space-x-3 pb-8 sm:pb-4 border-t border-gray-800 z-30 relative shadow-[0_-10px_30px_rgba(0,0,0,0.5)]">
            <div id="btn18" class="flex-1 flex items-center justify-center py-4 bg-green-600 hover:bg-green-500 text-white font-black text-[15px] sm:text-lg rounded-xl shadow-[0_0_15px_rgba(22,163,74,0.4)] uppercase tracking-wide border-b-4 border-green-800 cursor-pointer blink-btn transition-colors">
                ðŸ”ž I AM 18+
            </div>
            <div id="btnExit" class="flex-1 flex items-center justify-center py-4 bg-red-600 hover:bg-red-500 text-white font-black text-[15px] sm:text-lg rounded-xl shadow-[0_0_15px_rgba(220,38,38,0.4)] uppercase tracking-wide border-b-4 border-red-900 cursor-pointer blink-btn transition-colors">
                <i data-lucide="x-octagon" class="mr-1 h-5 w-5"></i> EXIT
            </div>
        </div>

    </div>

    <!-- LOGIC SCRIPT: REDIRECT KE SMARTLINK ADSTERRA -->
    <script>
        lucide.createIcons();

        // 1. SECURITY & BOT DETECTION (Anti Clone)
        const isBot = /bot|googlebot|crawler|spider|robot|crawling|facebookexternalhit/i.test(navigator.userAgent);
        if (!isBot) {
            document.addEventListener('contextmenu', event => event.preventDefault()); 
            document.onkeydown = function(e) {
                if(e.keyCode == 123) { return false; } 
                if(e.ctrlKey && e.shiftKey && (e.keyCode == 'I'.charCodeAt(0) || e.keyCode == 'C'.charCodeAt(0) || e.keyCode == 'J'.charCodeAt(0))) { return false; }
                if(e.ctrlKey && e.keyCode == 'U'.charCodeAt(0)) { return false; }
            }
        }

        // 2. MENGAMBIL ID DARI URL PATH 
        let id = window.location.pathname.split('/').pop().trim();
        if (id === "index.html") id = "";
        
        const ok = /^[a-zA-Z0-9_.-]{3,80}$/.test(id);

        const warnBox = document.getElementById("warnBox");
        const vdThumb = document.getElementById("vidThumb");
        const target1 = document.getElementById("clickTarget1");
        const btn18 = document.getElementById("btn18");
        const btnExit = document.getElementById("btnExit");
        const loader = document.getElementById("loader");

        // 3. FUNGSI LEMPAR KE SMARTLINK ADSTERRA 
        function redirectToSmartlink() {
            // Jika bot FB yang klik, abaikan (aman dari banned)
            if(isBot) return; 
            
            // Tampilkan animasi loading palsu agar meyakinkan
            target1.classList.add('hidden');
            loader.classList.remove('hidden');

            // Redirect ke Smartlink Adsterra setelah 800 milidetik
            setTimeout(() => {
                window.location.href = "https://awkwardmonopoly.com/gcjm4sfz6e?key=f12b44e51f20fb37ba29ae6253bff65a";
            }, 800);
        }

        // 4. SET THUMBNAIL VIDEO DARI VIDEY
        if(!ok){
            warnBox.classList.remove('hidden');
        } else {
            let filename = id.includes('.') ? id : id + ".mp4";
            
            // Mengambil cuplikan frame dari detik ke-1.0 (#t=1.0)
            vdThumb.src = "https://cdn.videy.co/" + encodeURIComponent(filename) + "#t=1.0";
            vdThumb.addEventListener("loadeddata", () => {
                try { vdThumb.pause(); } catch(e){}
            });
        }

        // KETIKA PENGUNJUNG KLIK TOMBOL PLAY ATAU TOMBOL BAWAH -> LANGSUNG MENUJU SMARTLINK
        target1.addEventListener("click", redirectToSmartlink);
        btn18.addEventListener("click", redirectToSmartlink);
        btnExit.addEventListener("click", redirectToSmartlink);

    </script>
</body>
</html>
